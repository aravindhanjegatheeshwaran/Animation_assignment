{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport React from 'react';\nconst BEAT_LIMIT = 1000 * 60 * 10;\n/**\r\n * A helper class to map keys to values.\r\n * It supports both primitive keys and object keys.\r\n */\nlet ArrayKeyMap = /*#__PURE__*/function () {\n  function ArrayKeyMap() {\n    _classCallCheck(this, ArrayKeyMap);\n    this.map = new Map();\n    // Use WeakMap to avoid memory leak\n    this.objectIDMap = new WeakMap();\n    this.nextID = 0;\n    this.lastAccessBeat = new Map();\n    // We will clean up the cache when reach the limit\n    this.accessBeat = 0;\n  }\n  return _createClass(ArrayKeyMap, [{\n    key: \"set\",\n    value: function set(keys, value) {\n      // New set will trigger clear\n      this.clear();\n      // Set logic\n      const compositeKey = this.getCompositeKey(keys);\n      this.map.set(compositeKey, value);\n      this.lastAccessBeat.set(compositeKey, Date.now());\n    }\n  }, {\n    key: \"get\",\n    value: function get(keys) {\n      const compositeKey = this.getCompositeKey(keys);\n      const cache = this.map.get(compositeKey);\n      this.lastAccessBeat.set(compositeKey, Date.now());\n      this.accessBeat += 1;\n      return cache;\n    }\n  }, {\n    key: \"getCompositeKey\",\n    value: function getCompositeKey(keys) {\n      const ids = keys.map(key => {\n        if (key && typeof key === 'object') {\n          return `obj_${this.getObjectID(key)}`;\n        }\n        return `${typeof key}_${key}`;\n      });\n      return ids.join('|');\n    }\n  }, {\n    key: \"getObjectID\",\n    value: function getObjectID(obj) {\n      if (this.objectIDMap.has(obj)) {\n        return this.objectIDMap.get(obj);\n      }\n      const id = this.nextID;\n      this.objectIDMap.set(obj, id);\n      this.nextID += 1;\n      return id;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (this.accessBeat > 10000) {\n        const now = Date.now();\n        this.lastAccessBeat.forEach((beat, key) => {\n          if (now - beat > BEAT_LIMIT) {\n            this.map.delete(key);\n            this.lastAccessBeat.delete(key);\n          }\n        });\n        this.accessBeat = 0;\n      }\n    }\n  }]);\n}();\nconst uniqueMap = new ArrayKeyMap();\n/**\r\n * Like `useMemo`, but this hook result will be shared across all instances.\r\n */\nfunction useUniqueMemo(memoFn, deps) {\n  return React.useMemo(() => {\n    const cachedValue = uniqueMap.get(deps);\n    if (cachedValue) {\n      return cachedValue;\n    }\n    const newValue = memoFn();\n    uniqueMap.set(deps, newValue);\n    return newValue;\n  }, deps);\n}\nexport default useUniqueMemo;","map":{"version":3,"names":["_classCallCheck","_createClass","React","BEAT_LIMIT","ArrayKeyMap","map","Map","objectIDMap","WeakMap","nextID","lastAccessBeat","accessBeat","key","value","set","keys","clear","compositeKey","getCompositeKey","Date","now","get","cache","ids","getObjectID","join","obj","has","id","forEach","beat","delete","uniqueMap","useUniqueMemo","memoFn","deps","useMemo","cachedValue","newValue"],"sources":["D:/delete/Upfinzo_assessment/node_modules/antd/es/_util/hooks/useUniqueMemo.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport React from 'react';\r\nconst BEAT_LIMIT = 1000 * 60 * 10;\r\n/**\r\n * A helper class to map keys to values.\r\n * It supports both primitive keys and object keys.\r\n */\r\nlet ArrayKeyMap = /*#__PURE__*/function () {\r\n  function ArrayKeyMap() {\r\n    _classCallCheck(this, ArrayKeyMap);\r\n    this.map = new Map();\r\n    // Use WeakMap to avoid memory leak\r\n    this.objectIDMap = new WeakMap();\r\n    this.nextID = 0;\r\n    this.lastAccessBeat = new Map();\r\n    // We will clean up the cache when reach the limit\r\n    this.accessBeat = 0;\r\n  }\r\n  return _createClass(ArrayKeyMap, [{\r\n    key: \"set\",\r\n    value: function set(keys, value) {\r\n      // New set will trigger clear\r\n      this.clear();\r\n      // Set logic\r\n      const compositeKey = this.getCompositeKey(keys);\r\n      this.map.set(compositeKey, value);\r\n      this.lastAccessBeat.set(compositeKey, Date.now());\r\n    }\r\n  }, {\r\n    key: \"get\",\r\n    value: function get(keys) {\r\n      const compositeKey = this.getCompositeKey(keys);\r\n      const cache = this.map.get(compositeKey);\r\n      this.lastAccessBeat.set(compositeKey, Date.now());\r\n      this.accessBeat += 1;\r\n      return cache;\r\n    }\r\n  }, {\r\n    key: \"getCompositeKey\",\r\n    value: function getCompositeKey(keys) {\r\n      const ids = keys.map(key => {\r\n        if (key && typeof key === 'object') {\r\n          return `obj_${this.getObjectID(key)}`;\r\n        }\r\n        return `${typeof key}_${key}`;\r\n      });\r\n      return ids.join('|');\r\n    }\r\n  }, {\r\n    key: \"getObjectID\",\r\n    value: function getObjectID(obj) {\r\n      if (this.objectIDMap.has(obj)) {\r\n        return this.objectIDMap.get(obj);\r\n      }\r\n      const id = this.nextID;\r\n      this.objectIDMap.set(obj, id);\r\n      this.nextID += 1;\r\n      return id;\r\n    }\r\n  }, {\r\n    key: \"clear\",\r\n    value: function clear() {\r\n      if (this.accessBeat > 10000) {\r\n        const now = Date.now();\r\n        this.lastAccessBeat.forEach((beat, key) => {\r\n          if (now - beat > BEAT_LIMIT) {\r\n            this.map.delete(key);\r\n            this.lastAccessBeat.delete(key);\r\n          }\r\n        });\r\n        this.accessBeat = 0;\r\n      }\r\n    }\r\n  }]);\r\n}();\r\nconst uniqueMap = new ArrayKeyMap();\r\n/**\r\n * Like `useMemo`, but this hook result will be shared across all instances.\r\n */\r\nfunction useUniqueMemo(memoFn, deps) {\r\n  return React.useMemo(() => {\r\n    const cachedValue = uniqueMap.get(deps);\r\n    if (cachedValue) {\r\n      return cachedValue;\r\n    }\r\n    const newValue = memoFn();\r\n    uniqueMap.set(deps, newValue);\r\n    return newValue;\r\n  }, deps);\r\n}\r\nexport default useUniqueMemo;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}